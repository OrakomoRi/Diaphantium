/* MAIN */

/* Block page scroll when popup is open */
html.diaphantium-popup-open,
body.diaphantium-popup-open {
	overflow: hidden !important;
}

/* Popup container (overlay) */
.popup_container.diaphantium[author="OrakomoRi"] {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%; /* Full width */
	height: 100%; /* Full height */
	z-index: 888; /* Max z-index */
	-webkit-box-align: center;
	-webkit-box-pack: center;
	display: flex;
	justify-content: center;
	align-items: center;
}

/* Popup window styles */
.popup_container.diaphantium[author="OrakomoRi"] .popup {
	all: unset;
	position: absolute;
	display: flex;
	width: 30em;
	height: 24em;
	border-radius: .6em;
	padding: 1em 2.5em 1em .5em;
	gap: 2em;
	background: var(--diaphantium-background);
	-webkit-backdrop-filter: blur(var(--diaphantium-blur));
	backdrop-filter: blur(var(--diaphantium-blur));
	border: .1em solid rgba(255, 255, 255, .3);
	box-shadow: 0 8px 32px rgba(0, 0, 0, .4), 
	            0 0 0 1px rgba(255, 255, 255, .1) inset,
	            0 0 2em 0 rgba(255, 255, 255, .15);
	color: rgb(255, 255, 255);
	z-index: 889; /* z-index that is +1 to overlay container z-index */
	user-select: none;
}

/* Content of any page */
.popup_container.diaphantium[author="OrakomoRi"] .content {
	all: unset;
	display: none;
	flex-direction: column;
	align-items: center;
	gap: .75em;
	flex-grow: 1;
	cursor: default;
	padding: 0.5em;
	overflow: hidden;
}

/* Content of the selected page */
.popup_container.diaphantium[author="OrakomoRi"] .content.active {
	display: flex;
}

/* Close button on the popup */
.popup_container.diaphantium[author="OrakomoRi"] .close {
	all: unset;
	position: absolute;
	top: .7em;
	right: .7em;
	cursor: pointer;
	color: rgba(255, 255, 255, .5);
	height: 2.2em;
	width: 2.2em;
	transition: all var(--diaphantium-transition);
	user-select: none;
	z-index: 890;
	pointer-events: all;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: .35em;
	border: 1px solid rgba(255, 255, 255, .1);
	background: rgba(255, 255, 255, .03);
}

/* Close button hover behaviour */
.popup_container.diaphantium[author="OrakomoRi"] .close:hover {
	color: rgb(255, 255, 255);
	background-color: rgba(221, 81, 81, .3);
	border-color: rgba(221, 81, 81, .5);
	box-shadow: 0 0 12px rgba(221, 81, 81, .2);
	transform: rotate(90deg);
}

.popup_container.diaphantium[author="OrakomoRi"] .close:active {
	transform: rotate(90deg) scale(0.95);
}

/* SVG inside close button */
.popup_container.diaphantium[author="OrakomoRi"] .close svg {
	pointer-events: none;
	display: block;
	width: 80%;
	height: 80%;
	fill: none;
	stroke: currentColor;
}

/* Header of any content page */
.popup_container.diaphantium[author="OrakomoRi"] .header {
	all: unset;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.5em;
	font-weight: 700;
	letter-spacing: .02em;
	text-shadow: 0 2px 8px rgba(0, 0, 0, .3);
	background: linear-gradient(135deg, rgba(255, 255, 255, .95), rgba(255, 255, 255, .75));
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
	margin-bottom: -.25em;
}

/* Inner of any content page */
.popup_container.diaphantium[author="OrakomoRi"] .inner {
	all: unset;
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: flex-start;
	gap: .65em;
	flex-grow: 1;
	padding: .5em 1em;
	overflow: hidden;
	min-height: 0;
}

/* Subheaders */
.popup_container.diaphantium[author="OrakomoRi"] .subheader {
	all: unset;
	font-size: .85em;
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: .08em;
	color: rgba(255, 255, 255, .5);
	margin-bottom: .75em;
	padding-bottom: .5em;
	border-bottom: 1px solid rgba(255, 255, 255, .15);
	width: 100%;
	text-align: center;
}

/* Divider element */
.popup_container.diaphantium[author="OrakomoRi"] .divider {
	width: 100%;
	height: 1px;
	background: rgba(255, 255, 255, .1);
	margin: 0;
}

/* Container of scrollable content */
.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable {
	all: unset;
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: flex-start;
	gap: .65em;
	overflow-x: hidden;
	overflow-y: auto;
	flex: 1;
	min-height: 0;
	padding-right: .5em;
}

/* Direct children of scrollable */
.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable > * {
	width: 100%;
}

/* Labels (input + text) */
.popup_container.diaphantium[author="OrakomoRi"] .inner .label {
	all: unset;
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 1em;
}

.popup_container.diaphantium[author="OrakomoRi"] .inner .label p {
	all: unset;
	font-size: .95em;
	display: inline;
	margin: 0;
	font-weight: 500;
	letter-spacing: .01em;
}

/* Text inputs */
.popup_container.diaphantium[author="OrakomoRi"] .text_input {
	padding: .4em .6em;
	background-color: rgba(0, 0, 0, .3);
	color: rgb(255, 255, 255);
	text-align: center;
	border: .1em solid rgba(255, 255, 255, .15);
	font-size: 1em;
	border-radius: .35em;
	transition: all var(--diaphantium-transition);
	cursor: text;
	user-select: text;
	display: inline-block;
	font-family: inherit;
	box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);
}

/* Custom toggle switch checkbox */
.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox {
	all: unset;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	position: relative;
	width: 3.2em;
	height: 1.7em;
	background-color: rgba(255, 255, 255, .08);
	border: .1em solid rgba(255, 255, 255, .15);
	border-radius: 1.5em;
	cursor: pointer;
	transition: all .4s cubic-bezier(0.4, 0, 0.2, 1);
	display: inline-block;
	vertical-align: middle;
	box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox::before {
	content: "";
	position: absolute;
	top: .2em;
	left: .2em;
	width: 1.2em;
	height: 1.2em;
	border-radius: 50%;
	background-color: rgba(255, 255, 255, .5);
	transition: all .4s cubic-bezier(0.4, 0, 0.2, 1);
	box-shadow: 0 2px 6px rgba(0, 0, 0, .4);
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox:checked {
	background: linear-gradient(135deg, rgba(97, 181, 255, .3), rgba(81, 221, 97, .3));
	border-color: rgba(81, 221, 97, .6);
	box-shadow: 0 0 12px rgba(81, 221, 97, .2), inset 0 1px 3px rgba(0, 0, 0, .2);
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox:checked::before {
	left: calc(100% - 1.4em);
	background: linear-gradient(135deg, rgb(255, 255, 255), rgba(81, 221, 97, .8));
	box-shadow: 0 2px 8px rgba(81, 221, 97, .5);
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox:hover {
	border-color: rgba(255, 255, 255, .3);
	background-color: rgba(255, 255, 255, .12);
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox:checked:hover {
	filter: brightness(1.15);
	box-shadow: 0 0 16px rgba(81, 221, 97, .3), inset 0 1px 3px rgba(0, 0, 0, .2);
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .checkbox:active::before {
	width: 1.4em;
}



/* NAVIGATION */

/* Side navigation container */
.popup_container.diaphantium[author="OrakomoRi"] .navigation {
	all: unset;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 1em;
}

/* Side navigation buttons */
.popup_container.diaphantium[author="OrakomoRi"] .navigation .item {
	all: unset;
	position: relative;
	border-radius: .4em;
	padding: .5em;
	cursor: pointer;
	width: 2.5em;
	height: 2.5em;
	transition: all var(--diaphantium-transition);
	user-select: none;
	display: flex;
	align-items: center;
	justify-content: center;
	border: 1px solid rgba(255, 255, 255, .1);
}

.popup_container.diaphantium[author="OrakomoRi"] .navigation .item::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
	border-radius: .4em;
	z-index: -1;
	opacity: .2;
	transition: all var(--diaphantium-transition);
	background: rgba(255, 255, 255, .05);
}

.popup_container.diaphantium[author="OrakomoRi"] .navigation .item svg {
	display: block;
	width: 1.5em;
	height: 1.5em;
	fill: none;
	stroke: currentColor;
}

/* Side navigation buttons hover & focus behaviour */
.popup_container.diaphantium[author="OrakomoRi"] .navigation .item:hover {
	border-color: rgba(255, 255, 255, .2);
}

.popup_container.diaphantium[author="OrakomoRi"] .navigation .item:hover::before,
.popup_container.diaphantium[author="OrakomoRi"] .navigation .item:focus::before {
	background-color: rgba(255, 255, 255, .15);
	opacity: .3;
}

/* Side navigation selected page button */
.popup_container.diaphantium[author="OrakomoRi"] .navigation .item.active {
	pointer-events: none;
	color: rgb(255, 255, 255);
	border-color: rgba(255, 255, 255, .4);
	box-shadow: 0 0 12px rgba(255, 255, 255, .2);
}

.popup_container.diaphantium[author="OrakomoRi"] .navigation .item.active::before {
	background: linear-gradient(135deg, rgba(97, 181, 255, .3), rgba(255, 255, 255, .2));
	opacity: .4;
}



/* CLICKER PAGE */

/* Supplies container on clicker page */
.popup_container.diaphantium[author="OrakomoRi"] .supplies {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: .75em;
	font-size: 1em;
	font-weight: bold;
	padding: .75em 0;
	width: 100%;
	box-sizing: border-box;
}

/* Inner of supplies container (buttons with supplies icons) */
.popup_container.diaphantium[author="OrakomoRi"] .supplies .subinner {
	display: flex;
	gap: 1em;
	padding: .5em 0;
}

/* Single supply button (icon) */
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply {
	width: 2.2em;
	height: 2.2em;
	cursor: pointer;
	fill: rgba(150, 150, 150, .7);
	transition: all var(--diaphantium-transition);
	user-select: none;
	display: inline-block;
	padding: .3em;
	border-radius: .3em;
	background: transparent;
	border: 1px solid rgba(255, 255, 255, .15);
	box-sizing: content-box;
}

.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply:hover {
	background: rgba(255, 255, 255, .05);
	border-color: rgba(255, 255, 255, .3);
	transform: scale(1.05);
}

.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply:active {
	transform: scale(0.98);
}

/* Behaviour for each icon (all colors was taken from the game) */
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-key="1"]:hover {
	fill: rgb(148, 160, 89);
}
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-key="2"]:hover {
	fill: rgb(163, 156, 116);
}
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-key="3"]:hover {
	fill: rgb(155, 67, 67);
}
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-key="4"]:hover {
	fill: rgb(164, 164, 72);
}

.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-state="on"][data-key="1"] {
	fill: rgb(191, 229, 0);
	background: rgba(191, 229, 0, .15);
	border-color: rgba(191, 229, 0, .4);
	box-shadow: 0 0 12px rgba(191, 229, 0, .3), 0 2px 8px rgba(0, 0, 0, .3);
}
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-state="on"][data-key="2"] {
	fill: rgb(234, 220, 153);
	background: rgba(234, 220, 153, .15);
	border-color: rgba(234, 220, 153, .4);
	box-shadow: 0 0 12px rgba(234, 220, 153, .3), 0 2px 8px rgba(0, 0, 0, .3);
}
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-state="on"][data-key="3"] {
	fill: rgb(255, 51, 51);
	background: rgba(255, 51, 51, .15);
	border-color: rgba(255, 51, 51, .4);
	box-shadow: 0 0 12px rgba(255, 51, 51, .3), 0 2px 8px rgba(0, 0, 0, .3);
}
.popup_container.diaphantium[author="OrakomoRi"] .supplies .supply[data-state="on"][data-key="4"] {
	fill: rgb(255, 255, 0);
	background: rgba(255, 255, 0, .15);
	border-color: rgba(255, 255, 0, .4);
	box-shadow: 0 0 12px rgba(255, 255, 0, .3), 0 2px 8px rgba(0, 0, 0, .3);
}

/* Checkbox container for supplies clicker state */
.popup_container.diaphantium[author="OrakomoRi"] .click_enable {
	align-self: stretch;
	padding: .75em 0;
}

.popup_container.diaphantium[author="OrakomoRi"] .click_enable .label {
	margin: 0;
}

/* Focused text inputs */
.popup_container.diaphantium[author="OrakomoRi"] .text_input:focus {
	border-color: rgb(255, 255, 255);
	background-color: rgba(0, 0, 0, .5);
	outline: none;
	box-shadow: 0 0 0 3px rgba(255, 255, 255, .1), inset 0 1px 3px rgba(0, 0, 0, .3);
}

/* Hover text inputs */
.popup_container.diaphantium[author="OrakomoRi"] .text_input:hover:not(:focus) {
	border-color: rgba(255, 255, 255, .3);
	background-color: rgba(0, 0, 0, .35);
}

/* Mine delay container */
.popup_container.diaphantium[author="OrakomoRi"] .mine_delay {
	padding: .75em 0 0 0;
	align-self: stretch;
}

.popup_container.diaphantium[author="OrakomoRi"] .mine_delay .label {
	margin: 0;
}

/* Mine delay input */
.popup_container.diaphantium[author="OrakomoRi"] .mine_delay .text_input.delay {
	width: 5em;
	min-width: 5em;
	font-weight: 600;
	font-size: 1.05em;
}



/* MISCELLANEOUS PAGE */

/* Miscellaneous toggles container */
.popup_container.diaphantium[author="OrakomoRi"] .miscellaneous_toggle {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: .75em 0;
}

.popup_container.diaphantium[author="OrakomoRi"] .miscellaneous_toggle .label {
	width: 100%;
	max-width: 15em;
	margin: 0;
}



/* SETTINGS PAGE */

/* Inner of settings container */
.popup_container.diaphantium[author="OrakomoRi"] .content[data-tab="settings"] .subinner {
	width: 100%;
	display: flex;
	flex-direction: column;
	gap: .5em;
}

/* Appearance settings container */
.popup_container.diaphantium[author="OrakomoRi"] .content[data-tab="settings"] .appearance_settings {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 0;
}

/* Appearance toggle container */
.popup_container.diaphantium[author="OrakomoRi"] .appearance_toggle {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: .75em 0;
	width: 100%;
	box-sizing: border-box;
}

.popup_container.diaphantium[author="OrakomoRi"] .appearance_toggle .label {
	width: 100%;
	max-width: 15em;
	margin: 0;
}

/* Hotkeys container on settings page */
.popup_container.diaphantium[author="OrakomoRi"] .content[data-tab="settings"] .hotkeys {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 0;
	padding: .75em 0;
}

/* Hotkey block line */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .hotkey_block {
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: .75em;
	padding: .75em 0;
}

/* Refresh hotkey button */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .refresh_hotkey {
	height: 1.5em;
	width: 1.5em;
	fill: rgba(255, 255, 255, .4);
	cursor: pointer;
	user-select: none;
	transition: all var(--diaphantium-transition);
	display: inline-block;
	padding: .3em;
	border-radius: .3em;
	background: rgba(255, 255, 255, .05);
}
/* Refresh hotkey button on hover */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .refresh_hotkey:hover {
	fill: rgb(255, 255, 255);
	background: rgba(255, 255, 255, .1);
	transform: rotate(180deg);
}

.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .refresh_hotkey:active {
	transform: rotate(180deg) scale(0.95);
}
/* Refresh hotkey icon */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .refresh_hotkey svg {
	width: 100%;
	height: 100%;
	display: block;
}

/* Hotkey input */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .text_input.hotkey {
	cursor: pointer;
	font-weight: bold;
	width: 5rem;
	user-select: none;
}

/* When focused, allow text selection and change cursor */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .text_input.hotkey:focus {
	user-select: text;
	cursor: text;
}

/* Hotkey text */
.popup_container.diaphantium[author="OrakomoRi"] .hotkeys .text {
	font-size: 1em;
	display: inline;
}

/* Warning input */
.popup_container.diaphantium[author="OrakomoRi"] .text_input.warning {
	border-color: rgb(255, 200, 50);
	background-color: rgba(255, 200, 50, .05);
}
/* Focused warning text inputs */
.popup_container.diaphantium[author="OrakomoRi"] .text_input.warning:focus {
	border-color: rgb(255, 255, 255);
}

/* Wrong hotkey input */
.popup_container.diaphantium[author="OrakomoRi"] .text_input.wrong_input {
	user-select: none;
	color: rgb(255, 100, 100);
	border-color: rgb(185, 60, 60);
	box-shadow: 0 0 12px rgba(255, 0, 0, 0.3), 0 2px 8px rgba(0, 0, 0, .3);
	animation: shake .2s cubic-bezier(.36, .07, .19, .97) both;
}

@keyframes shake {
	10%, 90% {
		transform: translate3d(-.1rem, 0, 0);
	}
  
	20%, 80% {
		transform: translate3d(.2rem, 0, 0);
	}
  
	30%, 50%, 70% {
		transform: translate3d(-.4rem, 0, 0);
	}
  
	40%, 60% {
		transform: translate3d(.4rem, 0, 0);
	}
}

/* Smooth entrance animation */
@keyframes popupFadeIn {
	from {
		opacity: 0;
		transform: scale(0.95) translateY(-10px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

.popup_container.diaphantium[author="OrakomoRi"] .popup {
	animation: popupFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Scrollbar improvements */
.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable {
	scrollbar-width: thin;
	scrollbar-color: rgba(128, 128, 128, .3) transparent;
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable::-webkit-scrollbar {
	width: .3em;
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable::-webkit-scrollbar-track {
	background: transparent;
	margin: .25em;
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable::-webkit-scrollbar-thumb {
	background: rgba(128, 128, 128, .3);
	border-radius: .15em;
}

.popup_container.diaphantium[author="OrakomoRi"] .popup .scrollable::-webkit-scrollbar-thumb:hover {
	background: rgba(128, 128, 128, .5);
}

/* Popup signature (footer) */
.popup_container.diaphantium[author="OrakomoRi"] .popup_signature {
	position: absolute;
	bottom: .5em;
	right: .75em;
	font-size: .7em;
	color: rgba(128, 128, 128, .55);
	user-select: none;
	pointer-events: none;
	letter-spacing: .02em;
	font-weight: 400;
	opacity: 1;
	transition: opacity var(--diaphantium-transition);
}

/* Hidden signature */
.popup_container.diaphantium[author="OrakomoRi"] .popup_signature.hidden {
	opacity: 0;
	pointer-events: none;
}